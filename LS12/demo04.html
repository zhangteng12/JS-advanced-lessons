<!DOCTYPE html>
<html>
<head>
	<title></title><meta charset="utf-8">
	<script type="text/javascript">

		function f1(){
		    var n = 999;
		    function f2(){
		        console.log(++n);
		    }
		    return f2;
		}
		var f = f1();
		f();//输出1000
		f();//输出1001


		var n = 10;
		function f1(){
		    var n=999;
		    nAdd=function(){n+=1;};//思考：nAdd是闭包么? n是哪个作用域下的变量
		    function f2(){
		        console.log(n);
		    }
		    return f2;
		}
		var result=f1();
		result(); // 输出999
		nAdd();
		result(); // 输出1000


		function Person(){
		    var name = "default";
		    return {
		        getName : function(){
		            return name;
		        },
		        setName : function(newName){
		            name = newName;
		        }
		    }
		};
		var john = Person();
		console.log(john.getName());//输出default
		john.setName("john");
		console.log(john.getName());//输出John

		var jack = Person();
		console.log(jack.getName());//输出default
		jack.setName("jack");
		console.log(jack.getName());//输出Jack


		var m = 10;
		function f1(){
		    nAdd=function(){++m;};
		    function f2(){
		        console.log(m);
		    }
		    return f2;
		}
		var result1=f1();
		var result2=f1();
		document.onclick = result1; // 输出11
		nAdd();
		result2(); // 输出11


		var m = 10;
		function f1(){
		    nAdd=function(){++m;};
		    function f2(){
		        console.log(m);
		    }
		    return f2;
		}
		var result1=f1();
		var result2=f1();
		result1(); // 输出10
		nAdd();
		result2(); // 输出11
		result1();//输出11
	</script>
</head>
<body>

</body>
</html>